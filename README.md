# Bus-tickets-web-service

Веб систем који служи за претрагу, резервацију и куповину аутобуских карата. 

У систему постоје две врсте корисника: администратор и регистровани
корисници. Постоје и гости, корисници који се не региструју и немају кориснички
налог у оквиру система.
Са почетне стране апликације, путем форме, треба омогућити пријављивање
корисника на систем. Корисник има могућност да након исправно унетих података
настави рад са остатком система. У случају погрешно унетих података приказује се
одговарајућа порука. Поред пријављивања на систем, кориснику је на почетном
екрану омогућен и линк ка форми за регистрацију, у случају да је корисник
у систему нови.
Регистрација треба да омогући унос следећих података:
- име,
- презиме,
- корисничко име1,
- лозинка2,
- потврда лозинке,
- адреса становања (град, општина, адреса),
- датум рођења,
- контакт телефон,
- категорија запослења (незапослен, запослен, студент, лице са инвалидитетом,
пензионер),
- електронска пошта (опционо).
Ако су подаци исправно унети креира се нови захтев за регистрацију.
Администратор је задужен за разматрање пристиглих регистрација, а исход може
да буде прихватање или одбацивање захтева. Када прихвати захтев тај корисник
постаје обичан корисник (администратор је јединствен на нивоу базе).
Код регистрације новог корисничког налога, осим коректног уноса свих наведених
података, имплементирано је и додатно поље за проверу помоћу додатне
графичке шифре у облику сличице (енг. Captcha) како би се спречило аутоматско
генерисање корисничких налога.
Корисничко име мора бити јединствено у овом систему.
Правила за креирање лозинке: треба да има најмање 6 карактера, а највише 12 карактера.
Минималан број великих слова је 1, минималан број малих слова је 3, минималан број нумерика и
специјалних знакова је 1. Почетни карактер мора бити слово мало или велико. Максималан број
узастопних карактера је два.
Могуће је прескочити логовање и регистровање и у том случају корисник наставља
као нерегистровани корисник система - гост.

Гост (нерегистровани корисник)
Корисник, који се није регистровао (нема кориснички налог у систему), може да
претражује међуградске аутобуске линије по: називу превозника, временском
интервалу од-до (времена када полази аутобус), по месту полазишта и месту
одредишта (претражује се и по међустаницама), без могућности да види
детаље о линији и да резервише карте. За претрагу по било ком од ових
критеријума, неопходно је унети тачан датум поласка (помоћу календар
компоненте) и бар информацију о полазишту или одредишту (могу се унети и оба).
Међустанице се такође сматрају ваљаним полазиштима и одредиштима и приказују се
у резултатима (нпр. за релацију Суботица-Димитровград са међустаницама у Новом Саду, 
Београду, Јагодини и Нишу, претрага треба да омогући успешан резултат и за све 
релације на тој рути, на пример: Београд-Јагодина или Нови Сад-Ниш). 
У резултатима се приказује само назив превозника, са датумом и временом поласка
и са свим међустаницама, табеларно са пагинацијом резултата.
Нерегистровани корисник осим ове претраге има могућност прегледа листе која
садржи 10 најскоријих међуградских полазака између било која два града.

Регистровани корисник
Након успешног пријављивања на систем, регистровани корисник може да изабере
да ли жели да претражује градске линије, међуградске линије или жели да купи
месечне картице.
Приликом претраге градских линија корисник на почетку може да види све линије
или да унесе назив аутобуског стајалишта до кога жели да стигне, након чега ће 
систем да пронађе све линије које стају на том стајалишту. У оба случаја претраге 
резултати се дају табеларно, са пагинацијом, уз приказ највише 10 резултата по страни. 
Када одабере одређену линију из приказане табеле, корисник може да погледа детаље о тој линији. 
У детаљном прегледу линије корисник види ред вожње, као и информације о
возачима који возе ту линију.
Приликом претраге међуградских линија корисник на почетку види све линије,
табеларно са пагинацијом уз иницијални приказ 20 резултата по страни. 
Корисник може да претражује линије по свим параметрима (филтери у заглављу табеле). 
Корисник одабиром одређене линије из табеле, може детаљно да прегледа сваку линију, 
види информације о аутобусу и возачу, види слике аутобуса у виду галерије и мапу 
линије са уцртаним местом полазишта, местом одредишта и свим међустаницама (плавим пином
је означено полазиште, жутим пиновима међустанице, а зеленим пином је означено
одредиште). Корисник може да резервише карту/е за одређену линију (и на веб
страни са резултатима претраге и на веб страни са детаљима о линији) или да
откаже резервацију уколико се предомисли (на посебној веб страни са свим
резервацијама тог корисника). Линије које су почеле у неком претходном периоду
се не приказују у резултатима претраживања.
Корисник може да купи месечне картице. На основу категорије запослења коју је
ставио приликом регистрације нуде му се месечна и годишња опција. За сваку
опцију пише колико траје и колика је цена такве картице. Куповину треба
да одобри администратор система.
Регистровани корисник има могућност прегледа свих карата које је резервисао (за
оне линије који су прошле, резервисане карте су означене другом
бојом). Уколико је остало више од сат времена пред полазак линије, корисник може
да откаже резервацију, а након тога није могуће отказивање.

Администратор
Администратор је корисник са посебним привилегијама. На почетној страни може
да бира да ли жели да ради са градским линијама, међуградским линијама или жели
да одобрава захтеве корисника за регистрацијом, за резервацијама карата или
месечним/годишњим картицама за градски превоз.
При раду са градским линијама администратор може да додаје нове линије и нове
возаче. За сваку линију чува се број линије, полазиште и одредиште, међустанице,
ред вожње и возачи који возе ту линију. Приликом додавања возача чува се његово
име, презиме, датум рођења и година када је почео да вози, на основу чега се
израчунавају године искуства у вожњи. Администратор може да откаже неку
линију за одређени период након чега ће сваком регистрованом кориснику да се
прикаже порука када се улогује на систем која линија и за који период је отказана.
При раду са међуградским линијама може да додаје нове линије, нове превознике,
нове аутобусе и нове возаче. За сваку линију чувају се подаци о превознику,
полазишту и одредишту и свим међустаницама. Линијама које су креиране у
систему, администратор накнадно треба да унесе датум и време поласка те линије,
датум и време доласка у одредиште (крајње), додељени аутобус из листе
постојећих и возача који вози. Додељени аутобус и додељени возач треба да буду
слободни у том тренутку. За сваки аутобус у систему се чувају се марка, модел,
број расположивих седишта (само за путнике) и могу да се додају слике (највише 5
слика). Приликом додавања превозника треба да се чува његов назив, адреса
превозника и контакт телефон, уз опционо додавање логоа превозника (подржани
формати слика: JPG, PNG, GIF).
Администратор може да одобрава и одбија захтеве за регистрацијом корисника, за
резервацијом карата (обавестити корисника о исходу) и за издавањем месечних и
годишњих карата (обавестити корисника о исходу).

Остале карактеристике апликације
Апликација треба да буде отпорна на унос некоректних података. Потребно је
направити и униформни изглед апликације користећи CSS - Cascading Style Sheets,
као и Facelets технологију. Свака страница треба да садржи мени и заглавља
(header и footer). На свим екранима где је приказан жељени садржај треба
омогућити опцију за повратак на почетни екран са корисничким опцијама (ово
само уколико немате мени који је увек видљив). Такође на свим екранима је
потребан и линк који води на почетни екран за пријављивање (опција: Излогуј се).

Напомене:
За израду задатка потребно је користити JavaServerFaces 2.x framework.
Освежавање сваке странице треба бити што ефикасније применом AJAX
технологије. Као развојно окружење препоручује се NetBeans 8.x или Eclipse 4.x, а
као веб сервер може се користити Tomcat 8.x или GlassFish 4.x. Обавезно је
коришћење библиотеке Primefaces 6.x (http://primefaces.org/) или неке друге
библиотеке са готовим компонентама. Треба користити библиотеку Bootstrap (за
responsive дизајн веб апликација).
Сваки вид серверске валидације потребно је што ефикасније реализовати. При
развоју је потребно користити MySQL базу података. Подразумевати да се база
података иницијално креира и попуњава независно од ове апликације (тј. табеле у
бази не треба креирати из саме апликације, већ независно од ње). Треба користити
ORM фрејмворк Hibernate ORM 5.x.
